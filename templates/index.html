{% extends 'base.html' %}

{% block text_center %}
<div class="pagetop-cntnt text-center">
    <h1>Добро пожаловать в интернет-магазин бытовой техники "ТехноДвор"</h1>
</div>
{% endblock %}

{% block body %}
<div id="carouselExampleCaptions" class="carousel slide" data-bs-ride="carousel">
  <div class="carousel-indicators">
    <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
    <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="1" aria-label="Slide 2"></button>
  </div>
  <div class="carousel-inner">
    <div class="carousel-item active">
      <img src="{{ url_for('static', filename ='img/1.jpg') }}" class="d-block w-100" alt="">
      <div class="carousel-caption d-none d-md-block">
        <h5>Мы рады приветствовать вас в мире удобства и инноваций! "ТехноДвор"</h5>
        <p>это ваш надежный партнер в сфере бытовой техники, предлагающий широкий ассортимент качественных товаров по доступным ценам.</p>
      </div>
    </div>
    <div class="carousel-item">
      <img src="{{ url_for('static', filename ='img/3.jpg') }}" class="d-block w-100" alt="">
      <div class="carousel-caption d-none d-md-block">
        <h5>В "ТехноДвор" мы стремимся к тому, чтобы каждый клиент чувствовал себя особенным.</h5>
        <p>Наша миссия - делать покупки бытовой техники легкими, приятными и доступными для всех. Доверьтесь нам, и мы сделаем ваш дом еще уютнее и современнее!</p>
      </div>
    </div>
  </div>
  <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Previous</span>
  </button>
  <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Next</span>
  </button>
</div>
<div class="container">
    <div class="row justify-content-center">
        <div class="col-md-10">
            <br><br>
            <div class="row featurette">
                <div class="col-md-7">
                    <h2 class="featurette-heading"><span class="text-muted">У нас вы найдете все необходимое для создания уютного и функционального дома.</span></h2>
                    <p class="lead">Благодаря нашему богатому выбору продукции вы сможете подобрать идеальные решения для вашей кухни, ванной комнаты, спальни и гостиной.</p>
                </div>
                <div class="col-md-5">
                    <img src="{{ url_for('static', filename ='img/6.webp') }}" alt="" width="350" height="400">
                </div>
            </div>
            <br><br>
            <div class="row">
                {% for product in products %}
                    <div class="col-md-4 col-sm-6 col-xs-12 mb-4">
                        <div class="card h-100 shadow-sm">
                            <a href="{{ url_for('product_detail', product_id=product.id) }}"> <img src="{{ product.image }}" class="card-img-top" alt="Изображение продукта" style="height: 200px; object-fit: cover;"></a>
                            <div class="card-body d-flex flex-column">
                                <h5 class="card-title">{{ product.name | truncate(20, true, '...') }}</h5>
                                <p class="card-text">{{ product.description | truncate(50, true, '...') }}</p>
                                <ul class="list-unstyled mb-auto">
                                    <li>Цена: <strong>{{ product.price  }} руб.</strong></li>
                                    <li>Категория: <strong>{{ product.category }}</strong></li>
                                </ul>
                                <div>
                                    <a href="{{ url_for('product_detail', product_id=product.id) }}" class="btn btn-info">Подробнее</a><br><br>
                                    <form action="{{ url_for('add_to_cart', product_id=product.id) }}" method="post">
                                        <button class="btn btn-primary">Добавить в корзину</button>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                {% endfor %}
            </div>  
        </div>
    </div>
</div>

{% endblock %}
